<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Neon Sentence Composer</title>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600&display=swap" rel="stylesheet">
    <style>
        :root {
            color-scheme: dark;
            --accent: #00ffd4;
            --accent-strong: rgba(0, 255, 212, 0.4);
            --bg: radial-gradient(circle at top, rgba(0, 255, 212, 0.16), rgba(4, 12, 16, 0.96));
            --panel: rgba(8, 18, 22, 0.92);
            --panel-border: rgba(0, 255, 212, 0.28);
            --text: #f2fffb;
            --muted: rgba(242, 255, 251, 0.7);
            --success: #8bffc6;
            --danger: #ff6b6b;
            --shadow: 0 24px 48px rgba(0, 0, 0, 0.55);
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            min-height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
            padding: clamp(2rem, 5vw, 3.5rem) 1.5rem;
            background: var(--bg);
            color: var(--text);
            font-family: 'Poppins', sans-serif;
        }

        .game-shell {
            width: min(900px, 100%);
            display: flex;
            flex-direction: column;
            gap: 1.6rem;
        }

        .game-header {
            text-align: center;
            display: flex;
            flex-direction: column;
            gap: 0.65rem;
        }

        .game-header h1 {
            font-size: clamp(2rem, 4vw, 3rem);
            text-transform: uppercase;
            letter-spacing: 1.3px;
            text-shadow: 0 0 28px rgba(0, 255, 212, 0.35);
        }

        .game-header p {
            color: var(--muted);
            font-size: 1rem;
        }

        .game-panel {
            border-radius: 24px;
            border: 1px solid var(--panel-border);
            background: var(--panel);
            padding: clamp(1.8rem, 4vw, 2.6rem);
            box-shadow: var(--shadow);
            display: flex;
            flex-direction: column;
            gap: 1.5rem;
        }

        .scoreboard {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(160px, 1fr));
            gap: 0.85rem;
        }

        .score-pill {
            display: flex;
            align-items: baseline;
            gap: 0.6rem;
            padding: 0.65rem 1.3rem;
            border-radius: 999px;
            border: 1px solid var(--panel-border);
            background: linear-gradient(135deg, rgba(0, 255, 212, 0.16), rgba(0, 0, 0, 0.35));
            box-shadow: 0 16px 32px rgba(0, 255, 212, 0.18);
        }

        .score-label {
            font-size: 0.8rem;
            letter-spacing: 0.7px;
            text-transform: uppercase;
            color: var(--muted);
        }

        .score-value {
            font-size: 1.5rem;
            font-weight: 600;
            color: var(--accent);
        }

        .workspace {
            display: grid;
            gap: 1.4rem;
        }

        .prompt-card {
            border-radius: 18px;
            border: 1px solid rgba(0, 255, 212, 0.18);
            background: rgba(0, 0, 0, 0.32);
            padding: clamp(1.3rem, 3vw, 1.7rem);
            box-shadow: inset 0 0 0 1px rgba(0, 255, 212, 0.08);
        }

        .prompt-card h2 {
            margin: 0;
            font-size: 1.1rem;
            letter-spacing: 0.35px;
            color: var(--muted);
        }

        .prompt-card p {
            margin-top: 0.6rem;
            font-size: 1.25rem;
            color: var(--accent);
        }

        .sentence-container {
            display: flex;
            flex-wrap: wrap;
            gap: 0.6rem;
        }

        .word {
            background: linear-gradient(145deg, rgba(0, 255, 212, 0.22), rgba(0, 0, 0, 0.6));
            padding: 0.65rem 0.9rem;
            border-radius: 12px;
            cursor: pointer;
            font-size: 1.05rem;
            color: var(--text);
            border: 1px solid rgba(0, 255, 212, 0.24);
            transition: transform 0.2s ease, box-shadow 0.2s ease, border-color 0.2s ease;
        }

        .word:hover:not(.locked) {
            transform: translateY(-3px);
            border-color: rgba(0, 255, 212, 0.5);
            box-shadow: 0 18px 36px rgba(0, 255, 212, 0.22);
        }

        .word.used {
            opacity: 0.35;
            cursor: not-allowed;
        }

        .composition-panel {
            border-radius: 18px;
            border: 1px solid rgba(0, 255, 212, 0.18);
            background: rgba(0, 0, 0, 0.32);
            padding: clamp(1.2rem, 3vw, 1.6rem);
            box-shadow: inset 0 0 0 1px rgba(0, 255, 212, 0.08);
            display: grid;
            gap: 0.75rem;
        }

        .composition-panel h3 {
            margin: 0;
            font-size: 1rem;
            color: var(--muted);
            letter-spacing: 0.35px;
        }

        .user-sentence {
            min-height: 2rem;
            font-size: 1.4rem;
            color: var(--accent);
        }

        .feedback {
            font-size: 0.95rem;
            color: var(--muted);
            min-height: 1.35rem;
        }

        .feedback.success {
            color: var(--success);
        }

        .feedback.error {
            color: var(--danger);
        }

        .controls {
            display: flex;
            flex-wrap: wrap;
            gap: 0.75rem;
            justify-content: center;
        }

        .control-btn {
            padding: 0.8rem 2.2rem;
            border-radius: 999px;
            border: 1px solid var(--accent-strong);
            background: linear-gradient(145deg, rgba(0, 255, 212, 0.7), rgba(0, 123, 255, 0.7));
            color: #021b15;
            font-weight: 600;
            letter-spacing: 0.6px;
            text-transform: uppercase;
            cursor: pointer;
            transition: transform 0.25s ease, box-shadow 0.25s ease, filter 0.25s ease, opacity 0.25s ease;
        }

        .control-btn.alt {
            background: rgba(0, 0, 0, 0.4);
            border-color: rgba(0, 255, 212, 0.22);
            color: var(--accent);
        }

        .control-btn:disabled {
            opacity: 0.55;
            cursor: not-allowed;
            box-shadow: none;
            transform: none;
        }

        .control-btn:not(:disabled):hover {
            transform: translateY(-3px);
            box-shadow: 0 22px 48px rgba(0, 255, 212, 0.32);
            filter: brightness(1.05);
        }

        @media (max-width: 640px) {
            .game-panel {
                padding: 1.5rem;
            }

            .word {
                font-size: 1rem;
            }
        }
    </style>
</head>
<body>
    <div class="game-shell">
        <header class="game-header">
            <h1>Neon Sentence Composer</h1>
            <p>Drag each glowing fragment into place to rebuild twenty advanced French sentences. Keep your streak alive for bonus points.</p>
        </header>

        <section class="game-panel" aria-live="polite">
            <div class="scoreboard">
                <div class="score-pill">
                    <span class="score-label">Sentence</span>
                    <span class="score-value" id="sentence-counter">1 / 20</span>
                </div>
                <div class="score-pill">
                    <span class="score-label">Score</span>
                    <span class="score-value" id="score">0</span>
                </div>
                <div class="score-pill">
                    <span class="score-label">Streak</span>
                    <span class="score-value" id="streak">0</span>
                </div>
            </div>

            <div class="workspace">
                <div class="prompt-card">
                    <h2>Tap words to compose the sentence</h2>
                    <p id="hint"></p>
                </div>

                <div class="sentence-container" id="sentence-container"></div>

                <div class="composition-panel">
                    <h3>Votre phrase</h3>
                    <div class="user-sentence" id="user-sentence"></div>
                    <div class="feedback" id="feedback">Compose the sentence by tapping the words above.</div>
                </div>
            </div>

            <div class="controls">
                <button class="control-btn alt" id="undo-btn" type="button" disabled>Undo</button>
                <button class="control-btn alt" id="clear-btn" type="button" disabled>Clear Sentence</button>
                <button class="control-btn" id="next-btn" type="button" disabled>Next Sentence</button>
            </div>
        </section>
    </div>

    <script>
        const sentences = [
            {
                sentence: "Je suis extrêmement reconnaissant pour cette opportunité",
                hint: "I am extremely grateful for this opportunity.",
                words: ["Je", "suis", "extrêmement", "reconnaissant", "pour", "cette", "opportunité"]
            },
            {
                sentence: "La persévérance est la clé du succès",
                hint: "Perseverance is the key to success.",
                words: ["La", "persévérance", "est", "la", "clé", "du", "succès"]
            },
            {
                sentence: "Il est important de comprendre les différences culturelles",
                hint: "It is important to understand cultural differences.",
                words: ["Il", "est", "important", "de", "comprendre", "les", "différences", "culturelles"]
            },
            {
                sentence: "L'innovation change notre manière de vivre",
                hint: "Innovation changes the way we live.",
                words: ["L'", "innovation", "change", "notre", "manière", "de", "vivre"]
            },
            {
                sentence: "Nous devons agir de manière responsable",
                hint: "We must act responsibly.",
                words: ["Nous", "devons", "agir", "de", "manière", "responsable"]
            },
            {
                sentence: "Cette conférence internationale réunit des experts du monde entier",
                hint: "This international conference brings together experts from around the world.",
                words: ["Cette", "conférence", "internationale", "réunit", "des", "experts", "du", "monde", "entier"]
            },
            {
                sentence: "Nous avons développé une stratégie durable pour nos partenaires",
                hint: "We developed a sustainable strategy for our partners.",
                words: ["Nous", "avons", "développé", "une", "stratégie", "durable", "pour", "nos", "partenaires"]
            },
            {
                sentence: "Ils travaillent ensemble pour résoudre des problèmes complexes",
                hint: "They work together to solve complex problems.",
                words: ["Ils", "travaillent", "ensemble", "pour", "résoudre", "des", "problèmes", "complexes"]
            },
            {
                sentence: "Chacun doit contribuer activement à la protection de l'environnement",
                hint: "Everyone must actively contribute to protecting the environment.",
                words: ["Chacun", "doit", "contribuer", "activement", "à", "la", "protection", "de", "l'environnement"]
            },
            {
                sentence: "Grâce à son leadership inspirant l'équipe a atteint ses objectifs ambitieux",
                hint: "Thanks to her inspiring leadership, the team reached its ambitious goals.",
                words: ["Grâce", "à", "son", "leadership", "inspirant", "l'équipe", "a", "atteint", "ses", "objectifs", "ambitieux"]
            },
            {
                sentence: "Notre association collecte des fonds pour soutenir la recherche médicale locale",
                hint: "Our association raises funds to support local medical research.",
                words: ["Notre", "association", "collecte", "des", "fonds", "pour", "soutenir", "la", "recherche", "médicale", "locale"]
            },
            {
                sentence: "Ils ont conçu une plateforme numérique accessible à tous les utilisateurs",
                hint: "They designed a digital platform accessible to all users.",
                words: ["Ils", "ont", "conçu", "une", "plateforme", "numérique", "accessible", "à", "tous", "les", "utilisateurs"]
            },
            {
                sentence: "La collaboration interdisciplinaire favorise l'émergence d'idées novatrices",
                hint: "Interdisciplinary collaboration encourages the emergence of innovative ideas.",
                words: ["La", "collaboration", "interdisciplinaire", "favorise", "l'émergence", "d'idées", "novatrices"]
            },
            {
                sentence: "Nous devons réviser notre stratégie afin d'améliorer la satisfaction client",
                hint: "We must revise our strategy in order to improve customer satisfaction.",
                words: ["Nous", "devons", "réviser", "notre", "stratégie", "afin", "d'améliorer", "la", "satisfaction", "client"]
            },
            {
                sentence: "Après plusieurs essais ils ont finalement validé la solution durable proposée",
                hint: "After several trials they finally validated the proposed sustainable solution.",
                words: ["Après", "plusieurs", "essais", "ils", "ont", "finalement", "validé", "la", "solution", "durable", "proposée"]
            }
        ];

        const sentenceContainer = document.getElementById("sentence-container");
        const userSentenceDisplay = document.getElementById("user-sentence");
        const feedbackDisplay = document.getElementById("feedback");
        const sentenceCounterDisplay = document.getElementById("sentence-counter");
        const scoreDisplay = document.getElementById("score");
        const streakDisplay = document.getElementById("streak");
        const hintDisplay = document.getElementById("hint");
        const nextBtn = document.getElementById("next-btn");
        const undoBtn = document.getElementById("undo-btn");
        const clearBtn = document.getElementById("clear-btn");

        let currentSentenceIndex = 0;
        let selectedWords = [];
        let history = [];
        let score = 0;
        let streak = 0;

        function shuffle(array) {
            const copy = [...array];
            for (let i = copy.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [copy[i], copy[j]] = [copy[j], copy[i]];
            }
            return copy;
        }

        function updateScoreboard() {
            sentenceCounterDisplay.textContent = `${currentSentenceIndex + 1} / ${sentences.length}`;
            scoreDisplay.textContent = score;
            streakDisplay.textContent = streak;
        }

        function renderWords(words) {
            sentenceContainer.innerHTML = "";
            const shuffled = shuffle(words);
            shuffled.forEach((word) => {
                const button = document.createElement("button");
                button.type = "button";
                button.className = "word";
                button.textContent = word;
                button.addEventListener("click", () => selectWord(button));
                sentenceContainer.appendChild(button);
            });
        }

        function loadSentence() {
            if (currentSentenceIndex >= sentences.length) {
                feedbackDisplay.textContent = "Félicitations ! Toutes les phrases sont complétées.";
                feedbackDisplay.className = "feedback success";
                nextBtn.textContent = "Restart";
                nextBtn.disabled = false;
                undoBtn.disabled = true;
                clearBtn.disabled = true;
                return;
            }

            const { words, hint } = sentences[currentSentenceIndex];
            hintDisplay.textContent = hint;
            selectedWords = [];
            history = [];
            userSentenceDisplay.textContent = "";
            feedbackDisplay.textContent = "Compose the sentence by tapping the words above.";
            feedbackDisplay.className = "feedback";
            nextBtn.disabled = true;
            undoBtn.disabled = true;
            clearBtn.disabled = true;

            renderWords(words);
            updateScoreboard();
        }

        function selectWord(button) {
            if (button.classList.contains("used")) {
                return;
            }
            selectedWords.push(button.textContent);
            history.push(button);
            button.classList.add("used");
            updateComposition();
            undoBtn.disabled = history.length === 0;
            clearBtn.disabled = selectedWords.length === 0;
        }

        function undoSelection() {
            const lastButton = history.pop();
            if (!lastButton) return;
            selectedWords.pop();
            lastButton.classList.remove("used");
            updateComposition();
            undoBtn.disabled = history.length === 0;
            clearBtn.disabled = selectedWords.length === 0;
        }

        function clearSelection() {
            history.forEach((button) => button.classList.remove("used"));
            selectedWords = [];
            history = [];
            updateComposition();
            undoBtn.disabled = true;
            clearBtn.disabled = true;
        }

        function updateComposition() {
            userSentenceDisplay.textContent = selectedWords.join(" ");
            checkSentence();
        }

        function checkSentence() {
            const correctSentence = sentences[currentSentenceIndex].sentence;
            const attempt = selectedWords.join(" ");

            if (attempt === "") {
                feedbackDisplay.textContent = "Compose the sentence by tapping the words above.";
                feedbackDisplay.className = "feedback";
                nextBtn.disabled = true;
                return;
            }

            if (attempt === correctSentence) {
                feedbackDisplay.textContent = "Correct ! Bien joué !";
                feedbackDisplay.className = "feedback success";
                nextBtn.disabled = false;
                streak += 1;
                score += 10 + (streak - 1) * 2;
                disableRemainingWords();
            } else if (selectedWords.length === sentences[currentSentenceIndex].words.length) {
                feedbackDisplay.textContent = "Incorrect, essayez encore.";
                feedbackDisplay.className = "feedback error";
                nextBtn.disabled = true;
                streak = 0;
            } else {
                feedbackDisplay.textContent = "Continue… la phrase n'est pas encore complète.";
                feedbackDisplay.className = "feedback";
                nextBtn.disabled = true;
            }

            updateScoreboard();
        }

        function disableRemainingWords() {
            sentenceContainer.querySelectorAll(".word").forEach((button) => button.classList.add("used"));
            undoBtn.disabled = true;
            clearBtn.disabled = true;
        }

        function nextSentence() {
            if (nextBtn.textContent === "Restart") {
                currentSentenceIndex = 0;
                score = 0;
                streak = 0;
                nextBtn.textContent = "Next Sentence";
            } else {
                currentSentenceIndex += 1;
            }
            loadSentence();
        }

        undoBtn.addEventListener("click", undoSelection);
        clearBtn.addEventListener("click", clearSelection);
        nextBtn.addEventListener("click", nextSentence);

        loadSentence();
    </script>
</body>
</html>